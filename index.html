<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动漫社官网 - 梦幻抽卡系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            border: 2px solid #e94560;
            box-shadow: 0 0 20px rgba(233, 69, 96, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://i.pinimg.com/originals/3c/6a/ae/3c6aae9e4b4c7b2b0d4d5c5d5f5e5f5e.jpg') center/cover;
            opacity: 0.2;
            z-index: -1;
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #e94560, 0 0 20px #e94560, 0 0 30px #e94560;
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
            letter-spacing: 3px;
            color: #fff;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto 20px;
        }
        
        .main-content {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .card-section {
            flex: 1;
            min-width: 300px;
            background: rgba(25, 25, 45, 0.7);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid #4f5b93;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 18px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-draw5 {
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
        }
        
        .btn-draw10 {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
        }
        
        .btn-draw5:hover {
            background: linear-gradient(45deg, #ff5252, #ff7e47);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);
        }
        
        .btn-draw10:hover {
            background: linear-gradient(45deg, #3aa0ff, #00d9fe);
            box-shadow: 0 0 20px rgba(79, 172, 254, 0.6);
        }
        
        .stats {
            background: rgba(15, 23, 42, 0.7);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .stats h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #e94560;
            font-size: 1.5rem;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stat-item:last-child {
            border-bottom: none;
        }
        
        .card-display {
            flex: 2;
            min-width: 500px;
        }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
            min-height: 400px;
        }
        
        .card {
            height: 220px;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .card-front {
            background: linear-gradient(135deg, #3a3a5c, #2d2d4a);
            border: 2px solid #4f5b93;
        }
        
        .card-back {
            transform: rotateY(180deg);
            background-size: cover;
            background-position: center;
            color: white;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
            font-weight: bold;
            font-size: 1.1rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .card-back.ssr {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1547891654-e66ed7ebb968?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80');
            border: 3px solid #ffd700;
        }
        
        .card-back.sr {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1579546929662-711aa81148cf?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80');
            border: 3px solid #c0c0c0;
        }
        
        .card-back.r {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1557683316-973673baf926?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80');
            border: 3px solid #4facfe;
        }
        
        .card-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #e94560;
        }
        
        .rarity-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .rarity-ssr {
            background: linear-gradient(45deg, #ffd700, #ff9800);
            color: #8b0000;
        }
        
        .rarity-sr {
            background: linear-gradient(45deg, #c0c0c0, #a9a9a9);
            color: #333;
        }
        
        .rarity-r {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: #fff;
        }
        
        .result-summary {
            margin-top: 30px;
            background: rgba(25, 25, 45, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #4f5b93;
        }
        
        .result-summary h3 {
            color: #e94560;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.5rem;
        }
        
        .summary-content {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .summary-item {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: rgba(15, 23, 42, 0.7);
            flex: 1;
            min-width: 120px;
        }
        
        .summary-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .ssr-color {
            color: #ffd700;
        }
        
        .sr-color {
            color: #c0c0c0;
        }
        
        .r-color {
            color: #4facfe;
        }
        
        .history {
            margin-top: 30px;
            background: rgba(25, 25, 45, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #4f5b93;
        }
        
        .history h3 {
            color: #e94560;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.5rem;
        }
        
        .history-items {
            max-height: 200px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 10px;
        }
        
        .history-item {
            padding: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 400px;
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
        }
        
        .empty-state i {
            font-size: 5rem;
            margin-bottom: 20px;
            color: #e94560;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .card-display {
                min-width: 100%;
            }
            
            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            h1 {
                font-size: 2.5rem;
            }
        }
        
        /* 动画效果 */
        @keyframes flip {
            0% { transform: rotateY(0); }
            50% { transform: rotateY(90deg); }
            100% { transform: rotateY(180deg); }
        }
        
        .flip-animation {
            animation: flip 0.6s ease-in-out;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease-in-out;
        }
        
        .drawing {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .drawing.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .drawing-content {
            text-align: center;
            color: white;
        }
        
        .drawing-content i {
            font-size: 5rem;
            color: #e94560;
            margin-bottom: 20px;
        }
        
        .drawing-text {
            font-size: 2rem;
            text-shadow: 0 0 10px #e94560;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="drawing" id="drawingOverlay">
        <div class="drawing-content">
            <i class="fas fa-spinner fa-spin"></i>
            <div class="drawing-text">抽卡中...</div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <h1>动漫社抽卡系统</h1>
            <p class="subtitle">快来试试你的手气！抽取稀有角色卡牌，收集SSR限定角色！</p>
        </header>
        
        <div class="main-content">
            <div class="card-section controls">
                <h2><i class="fas fa-dice"></i> 抽卡控制台</h2>
                <div class="buttons">
                    <button class="btn btn-draw5" id="draw5">
                        <i class="fas fa-star"></i> 五连抽
                    </button>
                    <button class="btn btn-draw10" id="draw10">
                        <i class="fas fa-gem"></i> 十连抽
                    </button>
                </div>
                
                <div class="stats">
                    <h3>卡牌概率</h3>
                    <div class="stat-item">
                        <span>SSR (彩卡)</span>
                        <span>1%</span>
                    </div>
                    <div class="stat-item">
                        <span>SR (金卡)</span>
                        <span>10%</span>
                    </div>
                    <div class="stat-item">
                        <span>R (蓝卡)</span>
                        <span>89%</span>
                    </div>
                </div>
                
                <div class="stats">
                    <h3>抽卡统计</h3>
                    <div class="stat-item">
                        <span>总抽卡次数:</span>
                        <span id="totalDraws">0</span>
                    </div>
                    <div class="stat-item">
                        <span>获得SSR:</span>
                        <span id="totalSSR">0</span>
                    </div>
                    <div class="stat-item">
                        <span>获得SR:</span>
                        <span id="totalSR">0</span>
                    </div>
                </div>
            </div>
            
            <div class="card-section card-display">
                <h2><i class="fas fa-cards"></i> 抽卡结果</h2>
                <div class="card-grid" id="cardContainer">
                    <div class="empty-state">
                        <i class="fas fa-box-open"></i>
                        <p>点击上方按钮开始抽卡</p>
                        <p>五连抽或十连抽</p>
                    </div>
                </div>
                
                <div class="result-summary">
                    <h3>本次抽卡结果</h3>
                    <div class="summary-content">
                        <div class="summary-item">
                            <div>SSR (彩卡)</div>
                            <div class="summary-value ssr-color" id="ssrCount">0</div>
                            <div>张</div>
                        </div>
                        <div class="summary-item">
                            <div>SR (金卡)</div>
                            <div class="summary-value sr-color" id="srCount">0</div>
                            <div>张</div>
                        </div>
                        <div class="summary-item">
                            <div>R (蓝卡)</div>
                            <div class="summary-value r-color" id="rCount">0</div>
                            <div>张</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="history">
            <h3><i class="fas fa-history"></i> 抽卡历史</h3>
            <div class="history-items" id="historyContainer">
                <div class="history-item">暂无抽卡记录</div>
            </div>
        </div>
        
        <footer>
            <p>© 2023 动漫社官网 | 梦幻抽卡系统 | 概率：SSR 1% | SR 10% | R 89%</p>
            <p>本页面仅为娱乐，虚拟物品无实际价值</p>
        </footer>
    </div>
    
    <script>
        // 卡牌数据
        const ssrCards = [
            "宇宙公主·星光", 
            "暗夜领主·影刃", 
            "圣光天使·艾莉娅", 
            "混沌魔导师·泽拉斯", 
            "时间旅者·克罗诺斯"
        ];
        
        const srCards = [
            "火焰剑士·莱昂", 
            "冰霜法师·艾莎", 
            "森林游侠·罗宾", 
            "雷霆骑士·索尔", 
            "海洋歌姬·赛莲",
            "大地守卫·盖亚", 
            "疾风刺客·西尔瓦", 
            "光明祭司·露娜"
        ];
        
        const rCards = [
            "见习战士", 
            "新手法师", 
            "弓箭手学徒", 
            "治疗学徒", 
            "盾卫新兵",
            "火球术士", 
            "冰锥法师", 
            "雷电学徒", 
            "风刃使者", 
            "土墙学徒"
        ];
        
        // 状态管理
        let totalDraws = 0;
        let totalSSR = 0;
        let totalSR = 0;
        let currentDraw = [];
        let history = [];
        
        // DOM元素
        const cardContainer = document.getElementById('cardContainer');
        const ssrCountElement = document.getElementById('ssrCount');
        const srCountElement = document.getElementById('srCount');
        const rCountElement = document.getElementById('rCount');
        const totalDrawsElement = document.getElementById('totalDraws');
        const totalSSRElement = document.getElementById('totalSSR');
        const totalSRElement = document.getElementById('totalSR');
        const historyContainer = document.getElementById('historyContainer');
        const drawingOverlay = document.getElementById('drawingOverlay');
        
        // 抽卡函数
        function drawCards(count) {
            // 显示抽卡动画
            drawingOverlay.classList.add('active');
            
            // 清空当前抽卡结果
            currentDraw = [];
            
            // 模拟抽卡延迟
            setTimeout(() => {
                // 隐藏抽卡动画
                drawingOverlay.classList.remove('active');
                
                // 执行抽卡
                for (let i = 0; i < count; i++) {
                    const rand = Math.random() * 100;
                    let card;
                    
                    if (rand < 2) { // SSR 1%
                        const randomCard = ssrCards[Math.floor(Math.random() * ssrCards.length)];
                        card = {
                            name: randomCard,
                            rarity: 'ssr',
                            type: 'SSR'
                        };
                        totalSSR++;
                    } else if (rand < 15) { // SR 10%
                        const randomCard = srCards[Math.floor(Math.random() * srCards.length)];
                        card = {
                            name: randomCard,
                            rarity: 'sr',
                            type: 'SR'
                        };
                        totalSR++;
                    } else { // R 89%
                        const randomCard = rCards[Math.floor(Math.random() * rCards.length)];
                        card = {
                            name: randomCard,
                            rarity: 'r',
                            type: 'R'
                        };
                    }
                    
                    currentDraw.push(card);
                }
                
                totalDraws += count;
                
                // 更新UI
                updateUI();
                updateHistory(count);
            }, 1500);
        }
        
        // 更新UI
        function updateUI() {
            // 更新统计信息
            totalDrawsElement.textContent = totalDraws;
            totalSSRElement.textContent = totalSSR;
            totalSRElement.textContent = totalSR;
            
            // 清空卡片容器
            cardContainer.innerHTML = '';
            
            // 计算本次抽卡各稀有度数量
            let ssrCount = 0;
            let srCount = 0;
            let rCount = 0;
            
            // 创建卡片元素
            currentDraw.forEach((card, index) => {
                if (card.rarity === 'ssr') ssrCount++;
                else if (card.rarity === 'sr') srCount++;
                else rCount++;
                
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.innerHTML = `
                    <div class="card-inner">
                        <div class="card-front">
                            <div class="card-icon">
                                <i class="fas fa-question"></i>
                            </div>
                            <p>点击翻转</p>
                        </div>
                        <div class="card-back ${card.rarity}">
                            <div>${card.name}</div>
                            <div class="rarity-badge rarity-${card.rarity}">${card.type}</div>
                        </div>
                    </div>
                `;
                
                // 添加点击翻转事件
                cardElement.addEventListener('click', () => {
                    cardElement.classList.toggle('flipped');
                });
                
                // 添加卡片到容器
                cardContainer.appendChild(cardElement);
                
                // 添加延迟翻转动画
                setTimeout(() => {
                    cardElement.classList.add('flipped');
                    cardElement.classList.add('flip-animation');
                }, 500 + index * 200);
            });
            
            // 更新本次抽卡统计
            ssrCountElement.textContent = ssrCount;
            srCountElement.textContent = srCount;
            rCountElement.textContent = rCount;
        }
        
        // 更新历史记录
        function updateHistory(count) {
            // 创建历史记录条目
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item';
            
            const date = new Date().toLocaleTimeString();
            let ssrCount = currentDraw.filter(card => card.rarity === 'ssr').length;
            let srCount = currentDraw.filter(card => card.rarity === 'sr').length;
            let rCount = currentDraw.filter(card => card.rarity === 'r').length;
            
            historyItem.innerHTML = `
                <strong>${date}</strong> - ${count}连抽: 
                <span class="ssr-color">${ssrCount} SSR</span>, 
                <span class="sr-color">${srCount} SR</span>, 
                <span class="r-color">${rCount} R</span>
            `;
            
            // 添加到历史容器
            if (historyContainer.firstChild?.textContent === '暂无抽卡记录') {
                historyContainer.innerHTML = '';
            }
            
            historyContainer.insertBefore(historyItem, historyContainer.firstChild);
            
            // 限制历史记录数量
            if (historyContainer.children.length > 10) {
                historyContainer.removeChild(historyContainer.lastChild);
            }
        }
        
        // 事件监听
        document.getElementById('draw5').addEventListener('click', () => drawCards(5));
        document.getElementById('draw10').addEventListener('click', () => drawCards(10));
        
        // 初始化
        updateUI();
    </script>
</body>
</html>
